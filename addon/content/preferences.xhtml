<vbox
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  xmlns:html="http://www.w3.org/1999/xhtml"
>
  <linkset>
    <html:link rel="localization" href="__addonRef__-preferences.ftl" />
  </linkset>
  <groupbox
    onload="Zotero.__addonInstance__.hooks.onPrefsEvent('load', { window });"
  >
    <label><html:h2 data-l10n-id="pref-title"></html:h2></label>

    <!-- Language Model Settings -->
    <groupbox>
      <label><html:h3 data-l10n-id="pref-language-model"></html:h3></label>
      <hbox align="center">
        <html:label
          for="zotero-prefpane-__addonRef__-model-type"
          data-l10n-id="pref-model-type"
        ></html:label>
        <menulist
          id="zotero-prefpane-__addonRef__-model-type"
          preference="extensions.zotero.__addonRef__.modelType"
        >
          <menupopup>
            <menuitem value="model1" label="Model Option 1" />
            <menuitem value="model2" label="Model Option 2" />
          </menupopup>
        </menulist>
      </hbox>
      <hbox align="center">
        <html:label
          for="zotero-prefpane-__addonRef__-api-key"
          data-l10n-id="pref-api-key"
        ></html:label>
        <html:input
          type="password"
          id="zotero-prefpane-__addonRef__-api-key"
          preference="extensions.zotero.__addonRef__.apiKey"
        ></html:input>
      </hbox>
    </groupbox>

    <!-- Relevance Settings -->
    <groupbox>
      <label><html:h3 data-l10n-id="pref-relevance-settings"></html:h3></label>
      <vbox>
        <hbox align="center">
          <html:label
            style="width: 120px"
            for="zotero-prefpane-__addonRef__-threshold-high"
            data-l10n-id="pref-threshold-high"
          ></html:label>
          <html:input
            style="width: 80px"
            type="number"
            id="zotero-prefpane-__addonRef__-threshold-high"
            preference="extensions.zotero.__addonRef__.thresholdHigh"
            min="0"
            max="100"
            value="90"
          ></html:input>
        </hbox>
        <hbox align="center">
          <html:label
            style="width: 120px"
            for="zotero-prefpane-__addonRef__-threshold-medium"
            data-l10n-id="pref-threshold-medium"
          ></html:label>
          <html:input
            style="width: 80px"
            type="number"
            id="zotero-prefpane-__addonRef__-threshold-medium"
            preference="extensions.zotero.__addonRef__.thresholdMedium"
            min="0"
            max="100"
            value="70"
          ></html:input>
        </hbox>
        <hbox align="center">
          <html:label
            style="width: 120px"
            for="zotero-prefpane-__addonRef__-threshold-low"
            data-l10n-id="pref-threshold-low"
          ></html:label>
          <html:input
            style="width: 80px"
            type="number"
            id="zotero-prefpane-__addonRef__-threshold-low"
            preference="extensions.zotero.__addonRef__.thresholdLow"
            min="0"
            max="100"
            value="50"
          ></html:input>
        </hbox>
      </vbox>
    </groupbox>

    <!-- Performance Settings -->
    <groupbox>
      <label
        ><html:h3 data-l10n-id="pref-performance-settings"></html:h3
      ></label>

      <!-- Vector Database -->
      <groupbox>
        <label><html:h4 data-l10n-id="pref-vector-database"></html:h4></label>
        <hbox align="center">
          <html:label
            for="zotero-prefpane-__addonRef__-db-location"
            data-l10n-id="pref-db-location"
          ></html:label>
          <html:input
            type="text"
            id="zotero-prefpane-__addonRef__-db-location"
            preference="extensions.zotero.__addonRef__.dbLocation"
            readonly="true"
          ></html:input>
          <button
            id="zotero-prefpane-__addonRef__-choose-location"
            data-l10n-id="pref-choose-location"
            oncommand="Zotero.__addonInstance__.hooks.onPrefsEvent('chooseLocation', { window });"
          />
        </hbox>
        <button
          id="zotero-prefpane-__addonRef__-rebuild-index"
          data-l10n-id="pref-rebuild-index"
          oncommand="Zotero.__addonInstance__.hooks.onPrefsEvent('rebuildIndex', { window });"
        />
      </groupbox>

      <!-- Cache Settings -->
      <groupbox>
        <label><html:h4 data-l10n-id="pref-cache-settings"></html:h4></label>
        <hbox align="center">
          <html:label
            for="zotero-prefpane-__addonRef__-cache-size"
            data-l10n-id="pref-cache-size"
          ></html:label>
          <html:input
            type="number"
            id="zotero-prefpane-__addonRef__-cache-size"
            preference="extensions.zotero.__addonRef__.cacheSize"
            min="100"
            max="1000"
            value="500"
          ></html:input>
          <html:label>MB</html:label>
        </hbox>
        <checkbox
          id="zotero-prefpane-__addonRef__-auto-cleanup"
          preference="extensions.zotero.__addonRef__.autoCleanup"
          data-l10n-id="pref-auto-cleanup"
        />
        <button
          id="zotero-prefpane-__addonRef__-clear-cache"
          data-l10n-id="pref-clear-cache"
          oncommand="Zotero.__addonInstance__.hooks.onPrefsEvent('clearCache', { window });"
        />
      </groupbox>
    </groupbox>
  </groupbox>
  <vbox>
    <html:label
      data-l10n-id="pref-help"
      data-l10n-args='{"time": "__buildTime__","name": "__addonName__","version":"__buildVersion__"}'
    ></html:label>
  </vbox>
</vbox>
